<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DataPortal - Unity</title>
  <link href="/localsite/css/base.css" rel="stylesheet" type="text/css" >
  <link href="../css/dataportal.css" rel="stylesheet" type="text/css" >
  <link rel="icon" type="image/x-icon" href="../img/icons/favicon.ico" />
</head>

<body style="margin:0px">

<div style="position:fixed; background: #fff; width:100%; z-index:99999; border-bottom: 1px solid #ddd;">

  <a href="../research/"><img src="../img/logos/research/student-research.jpg" style="max-width:200px; float:left"></a>

  <div style="overflow:auto">

    <div class="toptext">
      Loren Heyns, Georgia Institute of Technology
      </div>
      <div class="toptext toptext-mobile">
      Georgia Tech
      </div>

    <div class="topnav" style="padding-left:30px">
      <a href="../research/">Research</a> &nbsp;
      <a href="../model/">Circular Economies</a> &nbsp;
      <a href="../mobility/">Mobility & Recovery</a> &nbsp;
      <a href="../crowdsense/">CrowdSense</a> &nbsp;
      <a href="../dataclip/">Data Clips</a> &nbsp;
      <a href="../rail/">Rail Cut-and-Cover</a> &nbsp;
      <a href="../sustainability/">Sustainability Apps</a>
    </div>


  </div>
</div>

  <div style="height:120px">
  </div>

  <div class="content contentpadding">


<h2>Unity for HoloLens Setup in Lab</h2>

<pre>
Switch your PC into Development Mode:
Windows (Settings, change view) > Update & Security > For Developers > Development Mode 

(was "Windows Store" apps at NDL, was "sideload apps" on bootcamp)  You 

The followng message occured at NDL when activating developer mode, okay to ignore: 
Developer mode is turned on. However, remote deployment and Windows Device Portal couldn't be found in Windows Update, so they're not available. Error code 0x80004005
https://docs.microsoft.com/en-us/windows/uwp/debug-test-perf/device-portal-desktop


<h2>Visual Studio</h2><a href="https://visualstudio.microsoft.com/">Download Visual Studio Community</a> - Free for individual developers, open source projects, academic research, education, and small professional teams.<!-- Omitted all C++, mobile development with .NET, mobile development with JavaScript -->

WARNNING: If you install Visual Studio 2015 on a Bootcamp PC emulator on Mac, turn off Hyper-V in Window before restating, otherwise reboot will produce black screen.  
Control Panel in Windows.
Go to the "Turn Windows features on or off" section.
Turn off Hyper-V. <a href="https://support.apple.com/en-us/HT207469">Details</a>
Steps for safely turning on Hyper-V with Bootcamp are listed below. 

<h2>Install Unity 2017.4.10f1</h2><a href="https://unity3d.com/get-unity/download/archive">Install the 2017.4.10 release</a>. Avoid the newer 2018 release. Might also need to avoid 2017.4.11 release. Unity icon will be added in upper left.

Include:
Windows Store .NET Scripting Backend
Windows Store IL2CPP Scripting Backend

Also added these optional components:
Example Project
Android Build Support
iOS Build Support
Mac Build Support
Vuforia Augmented Reality Support
WebGL Build Support

Select "Unity Personal" for free version.


<h2>Install HoloLens Emulator and Start a Project</h2><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/holograms-101e">Getting Started</a>
Download HolographicAcademy file. Unzip for Origami folder<!--(Main Camera and Directional Light did not appear first time when Origami folder was dragged out of zipped folder)-->. Open project in Unity, cick Continue when warned that Origami is version 2017.2.  Click "skip new version" when prompted to install Unity Editor 2017.4.11.
<!-- note that "AudioPlugin" already exists in video-->
Update Main Camera to Position: 0 0 0 and change to "Solid Color" and black
On left, click "Create > Create Empty" and rename GameObject to OrigamiCollection (or whatever)
Click Assets>Holograms folder in Project pane at bottom. Drag these objects into OrigamiCollection: stage, Sphere1, Sphere2
Right click and delete Directional Light.
Drag Lights asset into root of scene (blank area below Sphere2).
Set OrigamiColletion position to 0 -0.5 2

File > Build Settings > Choose Windows Store (Universal Windows Platform)

Under SDK choose Universal 10 (left "Latest installed". Other option was 10.0.17134.0)
UWP Build Type: D3D - This was already the default, stands for Direct 3D. Other option is XAML.
Check box Unity C3 Projects
Click "Add Open Scenes" to add the current scene to projects.
Then click "Build". Click "New Folder" and call it "App"

After Build, open "App" folder and double click on the Origami folder to launch Visual Studio.
<!--
Resides in Users > [User Name] > Downloads > HolographicAcademy-Holograms-101 > 
HolographicAcademy-Holograms-101 > Origami > App
-->
<!--Demo video show Visual Studio Community, but Visual Studio 2017 is Loren's installed version.-->

To deploy to device, set configuration to Release (change from "Debug" at top).
Set the target to x86 (was ARM)
On the Play menu, change from "Local Machine" to "HoloLens Emulator" (This option does not appear)

---
Tried this - no effect
https://funwithiot.wordpress.com/2017/11/09/hololens-emulator-not-showing-visual-studio/

Search for "Video Studio Installer" in your run menu. Start the installer, and then choose "Modify".

Checked the highlighted red items.
Also checked Google Android Emulator, which auto checked and Intel Hardware. (These were not highlighted in red)
(But Install reported: Couldn't install AndroidEmulator_API23V2 upon completion.)

Not a checkable option:
"Emulators > Windows 10 Mobile Emulator (Creators Update)"   
---

How to run Hyper-V in Windows 10 on MacBook Pro

<a href="http://nuts4.net/post/hack-force-vt-x-to-be-always-on-when-booting-to-windows-on-your-macbook">Download and edit zip file (first link in list)</a><!--
Same as:
https://apple.stackexchange.com/questions/281599/hyper-v-in-windows-10-on-macbook-pro-->

Hold Command+R (rather than option) before the chime/apple logo appears to boot into Apple Recovery.

Once you run "csrutil disable" in Recovery Mode, switch back to your normal OSX installation (Hold Option Key), and open a terminal window in the folder where you extracted rEFInd, and run "./refind-install"  (You'll likely be prompted to enter your password via Sudo. If don't get prompted to enter your password, and you don't see an Installing rEFind message, try installing Sudo.)



Install the tools

<h2>May not need the following</h2><a href="https://docs.microsoft.com/en-us/windows/mixed-reality/install-the-tools">Install the Tools - Unity and HoloLens</a>

<a href="https://docs.microsoft.com/en-us/windows/mixed-reality/holograms-100">MR Basics 100: Getting started with Unity</a> - Steps start from chapter 2 video.

File > Build Settings and choose Windows

Edit > Project Settings > Quality (see video)

Edit > Project Settings > Player (see video)
Settings for Universal Windows Platform (UWP) replaced (Settings for Windows Store)
Windows Mixed Reality (replaced the name Windows Holographic)


Enable Virtual Reality Support in Settings and Add Windows Mixed Reality to the devices to use Holographic Emulation.

File > Build Settings > change to Universal Windows Platform, and click Switch Platform.

Now you can choose Window > Holographic Emulation
Switch from none to "Simulate in Editor"

Change the scripting backend to .NET under PlayerSettings
Change VisualStudio to 2015. (Might not be necessary)
Check "Unity C# Projects"

If 'Haptics' error occurs when building from Unity to VS, install the latest Windows 10 sdk:
https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk

Build worked, despite saying "Selected Visual Studio [2017] is missing required components and may not be able to build the generated project." (Opening CS 2017 prompted the install of UWP)

Open the App folder and right click the Visual Studio solution file to launch.


<h2>Install Visual Studio Community</h2>Under Game development, uncheck Unity 2018 for now. <!--(40.97 GB installed on m3136-taylor-1)-->

Windows Store IL2CPP Scripting Backend<!--5.4.2f2 is likely too new. (First of 2 on PC)-->

Warning may prevent continuing unless VS 2105 is installed:
Visual Studio 2015 with Update 1 and UWP version 1.2

If VS 2015 license is expired, within initial VS screen log into your gatech account.
<!--
Didn't need to get old license
https://e5.onthehub.com/WebStore/ProductsByMajorVersionList.aspx?ws=3f907930-a19b-e011-969d-0030487d8897&vsro=8
-->

<h2>HoloLens Emulator</h2>

Install newer of two options on page above. Newer file adds the word Setup: "HoloLensEmulatorSetup".
IMPORTANT: Right-click and choose Run As Administrator.

Did not Install previous build of HoloLens emulator(10.0.14393.1358) on Bootcamp with VS 2017. It timed out quickly, but I had not rich-clicke Run as Administrator. (under bootcamp)

10.0.17134.80 now appears in VS.


But getting "Ended with code 1." error, which this might resolve:

https://forums.hololens.com/discussion/8382/hololens-universal10-build-json-dll-error-solve#latest



Note from David: If you try to get the video streaming example running you also have to modify a line in MrvcManager.cs, where it says “if (Plugin.IsHoloLens”. you have to remove that check as the emulator will return false for that.

Steps for <a href="https://hololens.reality.news/how-to/hololens-dev-101-build-basic-hololens-app-minutes-0175021/">emulator config</a>.

Also available: <a href="https://blogs.unity3d.com/2016/09/29/introducing-holographic-emulation/">Unity Holographic Emulation</a>

</pre>

<br><hr><br>

<h2>Unity Android Setup on Mac</h2>

<pre>
/Users/[Username]/Library/Android/sdk

Base directory aka <DEVELOPMENT_ROOT>

/Users/[Username]/Library/Android

To edit rc.common, copy out of /private/etc/ then paste back in. Enter your pw to approve.

It is generally recommended to use the Java API.
Skip Android NDK if using Java.
</pre>
<br><br>

<h2>AddOns Note</h2>
<pre>
Periodically run the Android SDK Manager to check for the latest SDK revisions. (Vuforia recommends)
In Android Studio, click on the SDK Manager icon in the Toolbar. (Third icon from the right.)

https://library.vuforia.com/articles/Solution/Getting-Started-with-Vuforia-for-Android-Development.html

Requested 3D Building API access from Google on August 18, 2018. Google is not ready to offer broadly yet.
https://cloud.google.com/maps-platform/gaming/

WRLD
To reset lat/lon, click setting icon and Remove Component, click UnityWorldSpace icon, click WrldMap.  Paste new lat/lon, hit Play.


Bootcamp
Windows 10 Pro - Use "Multiple", equivalent to Pro on Microsoft Imagine website.





</pre>

</div>

</body>
</html>